"use strict";(self.webpackChunkcar_rental=self.webpackChunkcar_rental||[]).push([[124,396,235,524],{1235:function(e,t,r){r.r(t),r.d(t,{getAdverts:function(){return i},updateAdvert:function(){return s}});var n,a,u=r(4165),c=r(5861),o=r(1243);o.Z.defaults.baseURL="https://64849eb7ee799e321626def8.mockapi.io";var i=function(){return(n=n||(0,c.Z)((0,u.Z)().mark((function e(){var t,r,n,a,c=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={params:{limit:c.length>1&&void 0!==c[1]?c[1]:8,page:c.length>0&&void 0!==c[0]?c[0]:1}},(t=c.length>2&&void 0!==c[2]?c[2]:null)&&(r.signal=t),e.next=7,o.Z.get("/adverts",r);case 7:return n=e.sent,a=n.data,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(e,t){return(a=a||(0,c.Z)((0,u.Z)().mark((function e(t,r){var n,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.put("/adverts/".concat(t),r);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},9396:function(e,t,r){r.r(t),r.d(t,{getAdverts:function(){return n.getAdverts},updateAdvert:function(){return n.updateAdvert}});var n=r(1235)},3524:function(e,t,r){r.r(t),r.d(t,{APOLOGIZE_MESSAGE:function(){return c},CANCELED_ERROR:function(){return a},ERROR_MESSAGE:function(){return u},LIMIT:function(){return n},LS_KEY_FAVORITES:function(){return o}});var n=8,a="CanceledError",u="Something went wrong... Please try again later.",c="Something's gone wrong, but we're working on it. We apologize for the inconvenience, but we're currently experiencing some issues. Please try again later.",o="favorites"},4124:function(e,t,r){r.r(t),r.d(t,{useFavorites:function(){return f}});var n=r(4165),a=r(3433),u=r(5861),c=r(9439),o=r(2791),i=r(3524),s=r(9396),f=function(){var e,t=(0,o.useState)((function(){var e;return null!==(e=JSON.parse(localStorage.getItem(i.LS_KEY_FAVORITES)))&&void 0!==e?e:[]})),r=(0,c.Z)(t,2),f=r[0],p=r[1];(0,o.useEffect)((function(){0===f.length?localStorage.removeItem(i.LS_KEY_FAVORITES):localStorage.setItem(i.LS_KEY_FAVORITES,JSON.stringify(f))}),[f]);return[f,function(t){return(e=e||(0,u.Z)((0,n.Z)().mark((function e(t){var r,u,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.some((function(e){return e.id===t}))){e.next=14;break}return e.prev=2,r={favorite:!1},e.next=6,(0,s.updateAdvert)(t,r);case 6:p((function(e){return e.filter((function(e){return e.id!==t}))})),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(2),new Error(i.ERROR_MESSAGE);case 12:e.next=25;break;case 14:return e.prev=14,u={favorite:!0},e.next=18,(0,s.updateAdvert)(t,u);case 18:c=e.sent,p((function(e){return[c].concat((0,a.Z)(e))})),e.next=25;break;case 22:throw e.prev=22,e.t1=e.catch(14),new Error(i.ERROR_MESSAGE);case 25:case"end":return e.stop()}}),e,null,[[2,9],[14,22]])})))).apply(this,arguments)}]}}}]);
//# sourceMappingURL=124.ad851382.chunk.js.map