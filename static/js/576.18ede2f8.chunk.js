"use strict";(self.webpackChunkcar_rental=self.webpackChunkcar_rental||[]).push([[576,396,235,524,717,124],{1235:function(e,t,r){r.r(t),r.d(t,{getAdverts:function(){return s},updateAdvert:function(){return u}});var n,a,o=r(4165),i=r(5861),c=r(1243);c.Z.defaults.baseURL="https://64849eb7ee799e321626def8.mockapi.io";var s=function(){return(n=n||(0,i.Z)((0,o.Z)().mark((function e(){var t,r,n,a,i=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={params:{limit:i.length>1&&void 0!==i[1]?i[1]:8,page:i.length>0&&void 0!==i[0]?i[0]:1}},(t=i.length>2&&void 0!==i[2]?i[2]:null)&&(r.signal=t),e.next=7,c.Z.get("/adverts",r);case 7:return n=e.sent,a=n.data,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},u=function(e,t){return(a=a||(0,i.Z)((0,o.Z)().mark((function e(t,r){var n,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.put("/adverts/".concat(t),r);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},9396:function(e,t,r){r.r(t),r.d(t,{getAdverts:function(){return n.getAdverts},updateAdvert:function(){return n.updateAdvert}});var n=r(1235)},3524:function(e,t,r){r.r(t),r.d(t,{APOLOGIZE_MESSAGE:function(){return i},CANCELED_ERROR:function(){return a},ERROR_MESSAGE:function(){return o},LIMIT:function(){return n},LS_KEY_FAVORITES:function(){return c}});var n=8,a="CanceledError",o="Something went wrong... Please try again later.",i="Something's gone wrong, but we're working on it. We apologize for the inconvenience, but we're currently experiencing some issues. Please try again later.",c="favorites"},4717:function(e,t,r){r.r(t),r.d(t,{useFavorites:function(){return n.useFavorites}});var n=r(4124)},4124:function(e,t,r){r.r(t),r.d(t,{useFavorites:function(){return l}});var n=r(4165),a=r(3433),o=r(5861),i=r(9439),c=r(2791),s=r(3524),u=r(9396),l=function(){var e,t=(0,c.useState)((function(){var e;return null!==(e=JSON.parse(localStorage.getItem(s.LS_KEY_FAVORITES)))&&void 0!==e?e:[]})),r=(0,i.Z)(t,2),l=r[0],f=r[1];(0,c.useEffect)((function(){0===l.length?localStorage.removeItem(s.LS_KEY_FAVORITES):localStorage.setItem(s.LS_KEY_FAVORITES,JSON.stringify(l))}),[l]);return[l,function(t){return(e=e||(0,o.Z)((0,n.Z)().mark((function e(t){var r,o,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.some((function(e){return e.id===t}))){e.next=14;break}return e.prev=2,r={favorite:!1},e.next=6,(0,u.updateAdvert)(t,r);case 6:f((function(e){return e.filter((function(e){return e.id!==t}))})),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(2),new Error(s.ERROR_MESSAGE);case 12:e.next=25;break;case 14:return e.prev=14,o={favorite:!0},e.next=18,(0,u.updateAdvert)(t,o);case 18:i=e.sent,f((function(e){return[i].concat((0,a.Z)(e))})),e.next=25;break;case 22:throw e.prev=22,e.t1=e.catch(14),new Error(s.ERROR_MESSAGE);case 25:case"end":return e.stop()}}),e,null,[[2,9],[14,22]])})))).apply(this,arguments)}]}},5576:function(e,t,r){r.r(t),r.d(t,{RentalPage:function(){return Z}});var n=r(4165),a=r(3433),o=r(5861),i=r(9439),c=r(2791),s=r(9085),u=r(5617),l=r(6707),f=function(){return f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},f.apply(this,arguments)},p=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},d=(0,l.i)("PulseLoader","0% {transform: scale(1); opacity: 1} 45% {transform: scale(0.1); opacity: 0.7} 80% {transform: scale(1); opacity: 1}","pulse");var v=function(e){var t=e.loading,r=void 0===t||t,n=e.color,a=void 0===n?"#000000":n,o=e.speedMultiplier,i=void 0===o?1:o,s=e.cssOverride,l=void 0===s?{}:s,v=e.size,h=void 0===v?15:v,g=e.margin,E=void 0===g?2:g,S=p(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),m=f({display:"inherit"},l),y=function(e){return{backgroundColor:a,width:(0,u.E)(h),height:(0,u.E)(h),margin:(0,u.E)(E),borderRadius:"100%",display:"inline-block",animation:"".concat(d," ").concat(.75/i,"s ").concat(.12*e/i,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return r?c.createElement("span",f({style:m},S),c.createElement("span",{style:y(1)}),c.createElement("span",{style:y(2)}),c.createElement("span",{style:y(3)})):null},h=r(9396),g=r(9930),E=r(4717),S=r(8300),m=r(3524),y=r(8405),b=r(6899),x=r(184),Z=function(){var e,t=(0,c.useState)([]),r=(0,i.Z)(t,2),u=r[0],l=r[1],f=(0,c.useState)(!1),p=(0,i.Z)(f,2),d=p[0],Z=p[1],O=(0,c.useState)(""),w=(0,i.Z)(O,2),A=w[0],R=w[1],j=(0,c.useState)(1),k=(0,i.Z)(j,2),_=k[0],I=k[1],L=(0,c.useState)(!1),C=(0,i.Z)(L,2),F=C[0],M=C[1],P=(0,E.useFavorites)(),G=(0,i.Z)(P,2)[1],T=(0,c.useState)(b.initialValues),z=(0,i.Z)(T,2),N=z[0],V=z[1];(0,c.useEffect)((function(){var e,t=new AbortController;return function(){(e=e||(0,o.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(!0),R(""),e.next=5,(0,h.getAdverts)(_,m.LIMIT,t.signal);case 5:r=e.sent,l((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(r))})),r.length<m.LIMIT&&M(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.name===m.CANCELED_ERROR?R(""):(R(m.APOLOGIZE_MESSAGE),s.Am.error(m.ERROR_MESSAGE));case 13:return e.prev=13,Z(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})))).apply(this,arguments)}(),function(){return t.abort()}}),[_]);var K=(0,S.filterAdverts)(u,N);return(0,x.jsxs)(x.Fragment,{children:[A&&(0,x.jsx)(g.ErrorCard,{children:A}),!A&&u.length>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(g.PageTitle,{hidden:!0,children:"Catalog"}),(0,x.jsx)(g.Section,{children:(0,x.jsx)(g.SearchBar,{handleSearch:function(e){V(e)}})}),(0,x.jsxs)(g.Section,{children:[(0,x.jsx)(g.CardList,{data:K,toggleFavorites:G}),F?(0,x.jsx)(g.NoResults,{children:"Sorry, but that's all the cars we have for you at the moment."}):(0,x.jsx)(g.ButtonSecondary,{type:"button",onClick:function(){return(e=e||(0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I((function(e){return e+1}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},children:d?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{children:"Loading"}),(0,x.jsx)(v,{color:y.theme.colors.bgAccent,size:3})]}):(0,x.jsx)("span",{children:"Load more"})})]})]})]})}}}]);
//# sourceMappingURL=576.18ede2f8.chunk.js.map